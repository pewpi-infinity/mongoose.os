<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Infinity Repo Walker</title>
<style>
body{background:#05080f;color:#cfd;font-family:monospace}
.token{padding:6px;margin:4px 0;border-left:4px solid}
.blue{border-color:#2aa9ff;color:#9fd3ff}
.green{border-color:#2aff9f;color:#bfffe0}
.orange{border-color:#ffb347;color:#ffe2b3}
.purple{border-color:#b47cff;color:#e6d3ff}
a{color:inherit;text-decoration:none}
a:hover{text-decoration:underline}
</style>
</head>
<body>
<button onclick="fetch('/start',{method:'POST'})">â–¶ START</button>
<div id="feed"></div>
<script>
const feed=document.getElementById("feed");
new EventSource("/events").onmessage=e=>{
  const t=JSON.parse(e.data);
  const d=document.createElement("div");
  d.className=`token ${t.color}`;
  d.innerHTML =
    `[${t.ts}] ` +
    (t.link ? `<a href="${t.link}" target="_blank">${t.msg}</a>` : t.msg);
  feed.prepend(d);
};
</script>
<footer><hr><p>Powered by Infinity</p><p><a href="mailto:marvaseater@gmail.com">marvaseater@gmail.com</a></p><p>808-342-9975</p><p>The Lending Giant</p></footer>
</body>
</html>
